<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>ä»»å‹™é€²è¡Œä¸­</title>
  <script>
    async function checkStatus() {
      const res = await fetch(`/status_api?task_id={{ task_id }}`);
      const data = await res.json();

      if (data.status === "done") {
        window.location.href = `/mixer/${data.title}`;
      } else if (data.status === "error") {
        document.getElementById("status").innerText = "âŒ ç™¼ç”ŸéŒ¯èª¤ï¼š" + data.message;
      } else {
        document.getElementById("status").innerText = "ğŸ”„ " + data.message;
        setTimeout(checkStatus, 3000);
      }
    }

    window.onload = checkStatus;
  </script>
</head>
<body>
  <h2>ä»»å‹™è™•ç†ä¸­ï¼Œè«‹ç¨å€™...</h2>
  <p id="status">â³ æ­£åœ¨åˆå§‹åŒ–...</p>
</body>
</html>
